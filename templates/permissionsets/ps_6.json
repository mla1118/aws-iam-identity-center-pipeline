{
    "Name": "ps_6",
    "Description": "testing",
    "SessionDuration": "PT1H",
    "ManagedPolicies": [
        "arn:aws:iam::aws:policy/AWSSupportAccess"
    ],
    "CustomPolicy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"GenericDevOpsAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:StartInstances\",\n                \"ec2:StopInstances\",\n                \"ec2:RevokeSecurityGroupIngress\",\n                \"ec2:AuthorizeSecurityGroupEgress\",\n                \"ec2:AuthorizeSecurityGroupIngress\",\n                \"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\n                \"ec2:RevokeSecurityGroupEgress\",\n                \"ec2:ModifySecurityGroupRules\",\n                \"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\n                \"ssm:DescribeSessions\",\n                \"ssm:GetConnectionStatus\",\n                \"ssm:DescribeInstanceInformation\",\n                \"ssm:DescribeInstanceProperties\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"CloudTrailAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"cloudtrail:StartQuery\",\n                \"cloudtrail:CancelQuery\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"CodeAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"codecommit:PutFile\",\n                \"codebuild:StartBuild\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"SessionAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:StartSession\"\n            ],\n            \"Resource\": \"*\",\n            \"Condition\": {\n                \"StringNotLike\": {\n                    \"ssm:resourceTag/TeamOwner\": [\n                        \"DBA\"\n                    ]\n                }\n            }\n        },\n        {\n            \"Sid\": \"SSMSessionDocumentAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:StartSession\"\n            ],\n            \"Resource\": [\n                \"arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell\"\n            ]\n        },\n        {\n            \"Sid\": \"SessionAccess2\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:TerminateSession\",\n                \"ssm:ResumeSession\"\n            ],\n            \"Resource\": [\n                \"arn:aws:ssm:*:*:session/${aws:username}-*\"\n            ]\n        },\n        {\n            \"Sid\": \"KMSAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"kms:Decrypt\",\n                \"kms:Encrypt\",\n                \"kms:DescribeKey\",\n                \"kms:ReEncrypt*\",\n                \"kms:GenerateDataKey*\"\n            ],\n            \"Resource\": [\n                \"arn:aws:kms:us-west-2:759141350787:key/fbfd8871-e292-4dda-90cd-57c9b9a3cafd\"\n            ]\n        },\n        {\n            \"Sid\": \"EMRServerlessAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"emr-serverless:UpdateApplication\",\n                \"emr-serverless:StopApplication\",\n                \"emr-serverless:StartJobRun\",\n                \"emr-serverless:CancelJobRun\",\n                \"emr-serverless:StartApplication\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"PassRoleAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": \"iam:PassRole\",\n            \"Resource\": \"*\",\n            \"Condition\": {\n                \"StringEquals\": {\n                    \"iam:PassedToService\": \"emr-serverless.amazonaws.com\"\n                }\n            }\n        },\n        {\n            \"Sid\": \"S3Access\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:PutObject*\"\n            ],\n            \"Resource\": \"arn:aws:s3:::calsaws-analytics-*\"\n        }\n    ]\n}"
}